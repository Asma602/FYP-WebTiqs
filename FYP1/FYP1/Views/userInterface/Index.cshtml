@model FYP1.Models.Databases
@{
    ViewData["Title"] = "Form Generation";
}

<link href="~/css/StyleSideBar.css" rel="stylesheet" />
<link href="~/css/userInterface.css" rel="stylesheet" />

@section userNavItem{
    <li class="nav-item dropdown float-lg-right">
        <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown"
           aria-haspopup="true" aria-expanded="false">@Context.Session.GetString("userName")</a>
        <div class="dropdown-menu dropdown-primary" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item" href="#">Change Password</a>
            <a class="dropdown-item" asp-controller="User" asp-action="Logout">Logout</a>
        </div>
    </li>

    <li class="nav-item  float-lg-right">
        <a class="nav-link " asp-controller="Home" asp-action="Index"
           >Save System</a>
        
    </li>
}



<div id="sidebar" class="nav-collapse col-sm-3">
    <!-- sidebar menu start-->
    <ul class="sidebar-menu" id="nav-accordion">

        <li>
            <a class="active" href="#">
                <div class="row">
                    <div class="col-sm-1">
                        <i class="fa fa-dashboard"></i>
                    </div>
                    <div class="col-sm-10">
                        <h6>@Model.name</h6>
                    </div>
                </div>

                <input type="text" hidden name="name" value=@Model.name id="saveDbName" />
            </a>
        </li>
        @foreach (var item in Model.tables)
        {
            <li class="sub-menu">
                <i class="fa fa-table text-white"></i>
                <button type="button" id=@item.tableName onclick="getTableAttrs(@item.tableName,@item.id);" value="@item.tableName" class="btn text-white setTableNames text-left text-capitalize pl-0" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
                        aria-hidden="true">
                    @item.tableName
                </button>

            </li>
        }

    </ul>
</div>
<div class="container align-content-center" style=" position: absolute; top: 100px; left: 350px;" id="viewFormPanel">

    <div class="row" id="emptyAttrDiv">

        <div class="col-sm-8">
            <h3 id="titleOfForm"></h3>
            <span>@ViewBag.errorMessage</span>
            <div id="getFormAttrs">
                <h4>Click on the tables on left to choose attributes...</h4>

            </div>

            <br />
        </div>

    </div>

</div>

<div class="container ">
    <div class="row">
        <div id="myModal" class="modal fade col-sm-12" role="dialog">
            <div class="modal-dialog row modal-lg">
                <div class="modal-content col-sm-12">
                    <div class="modal-header row bgColor" style="padding:5px;">
                        <h5 class="modal-title mt-2  col-sm-6">Customize Form</h5>

                        <button type="button" class="close col-sm-1 m-0 text-white" data-dismiss="modal" onclick="applyStyles()">&times;</button>
                    </div>
                    <div class="mt-1 row ">
                        <div class="col-sm-5 " style="border-left-color:burlywood">
                            <div class="row">
                                <div class="col-sm-10">
                                    <h3 class="title labelSize ml-2 mt-2 font-weight-bolder" id="formTitle"></h3>
                                </div>
                                <div class="col-sm-1">
                                    <button onclick="styleForm();" id="editBtn" title="style form" style="border:none;background-color:transparent">
                                        <i class="fa fa-edit btn-outline-black p-2" style="font-size:18px;"></i>
                                    </button>
                                </div>
                            </div>
                            <div id="myform" class="p-2 setFontTo16 ">
                                <div id="formError" class="text-danger" style="font-size:30px;"></div>
                                @* Form appears here *@
                            </div>
                            <div id="saveBtn">

                            </div>
                        </div>
                        <div class="col-sm-7" id="styleDiv">

                        </div>
                    </div>
                    <div class="modal-footer row p-1">
                        <button type="button" class="btn bgColor" data-dismiss="modal" onclick="addFormToList();">Save Form</button>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<script src="~/js/userInterfaceScript.js"></script>

<script src="~/lib/jquery/dist/jquery.js"></script>


